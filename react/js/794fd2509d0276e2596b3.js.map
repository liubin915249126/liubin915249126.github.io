{"version":3,"sources":["webpack:///./src/views/login/index.jsx"],"names":["FormItem","Item","require","LoginView","create","props","state","userinfo","name","password","initMap","map","BMap","Map","point","Point","centerAndZoom","enableScrollWheelZoom","addControl","NavigationControl","geolocation","Geolocation","getCurrentPosition","r","getStatus","BMAP_STATUS_SUCCESS","mk","Marker","addOverlay","panTo","console","log","lng","lat","enableSDKLocation","myCity","LocalCity","get","result","cityName","setCenter","history","push","getFieldDecorator","form","formItemLayout","labelCol","xs","span","sm","md","wrapperCol","rules","required","message","initialValue","loginIn","React","Component"],"mappings":"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","file":"js/794fd2509d0276e2596b3.js","sourcesContent":["import React from 'react';\nimport {Button,Form,Input,Row,Col} from 'antd';\nconst FormItem = Form.Item;\nrequire(\"./login.less\");\n\n@Form.create()\nclass LoginView extends React.Component{\n    constructor(props){\n        super(props)\n        this.state={\n            userinfo:{\n                name:\"username\",\n                password:\"123456\"\n            }\n        }\n    }\n    componentDidMount(){\n      this.initMap()\n    }\n    initMap(){\n      var map = new BMap.Map(\"container\"); \n      var point = new BMap.Point(116.404, 39.915); \n      map.centerAndZoom(point, 15); //\n      map.enableScrollWheelZoom(true); //允许缩放\n      map.addControl(new BMap.NavigationControl()); //添加控件\n      var geolocation = new BMap.Geolocation();\n      geolocation.getCurrentPosition(function(r){ //浏览器定位\n        if(this.getStatus() == BMAP_STATUS_SUCCESS){\n          var mk = new BMap.Marker(r.point);\n          map.addOverlay(mk);\n          map.panTo(r.point);\n          console.log('您的位置：'+r.point.lng+','+r.point.lat);\n        }\n        else {\n          console.log('failed'+this.getStatus());\n          geolocation.enableSDKLocation();  //SDK定位\n          geolocation.getCurrentPosition(function(r){\n            if(this.getStatus() == BMAP_STATUS_SUCCESS){\n              var mk = new BMap.Marker(r.point);\n              map.addOverlay(mk);\n              map.panTo(r.point);\n              console.log('您的位置：'+r.point.lng+','+r.point.lat);\n            }\n            else {\n              console.log('failed'+this.getStatus());\n              var myCity = new BMap.LocalCity();\n              myCity.get((result)=>{\n                var cityName = result.name;\n                map.setCenter(cityName);\n                console.log(\"当前定位城市:\"+cityName);\n              }); \n            }        \n          });\n        }        \n      });\n    }\n    loginIn(){\n        this.props.history.push('/main')\n    }\n    render(){\n        const {userinfo} = this.state;\n        const { getFieldDecorator } = this.props.form;\n        const formItemLayout = {\n        labelCol: {\n            xs: { span: 24 },\n            sm: { span: 7 },\n            md: { span: 6 },\n        },\n        wrapperCol: {\n            xs: { span: 24 },\n            sm: { span: 12 },\n            md: { span: 18 },\n        },\n        };\n        return(\n        <div className=\"loginWrap\">\n          <div className=\"formWrap\">\n            <Form>\n              <h3>欢迎登陆系统</h3>  \n              <FormItem {...formItemLayout} label=\"姓名\">\n              {getFieldDecorator('name', { rules: [{ required: true, message: '请输入姓名' }],initialValue:userinfo.name})(\n                  <Input />\n              )}\n              </FormItem>\n              <FormItem {...formItemLayout} label=\"密码\">\n                {getFieldDecorator('password', { rules: [{ required: true, message: '请输入密码' }],initialValue:userinfo.password})(\n                  <Input type=\"password\"/>\n                )}\n              </FormItem>\n              <Row>\n                  <Col {...formItemLayout.labelCol}></Col>\n                  <Col {...formItemLayout.wrapperCol}>\n                      <Button\n                        onClick={()=>{this.loginIn()}} \n                        type=\"primary\"\n                      >\n                        登录\n                      </Button>\n                  </Col>\n              </Row>\n            </Form>\n          </div>\n          <div className=\"container\">\n            <span>地图定位</span>\n            <div id=\"container\"></div> \n          </div>\n        </div>)\n    }\n}\nexport default LoginView"],"sourceRoot":""}